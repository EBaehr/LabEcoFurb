---
title: "Taxa de C√¢mbio"
format: html
editor: visual
---

## Taxa de C√¢mbio

A **taxa de c√¢mbio** √© um indicador econ√¥mico fundamental que representa o valor de uma moeda em rela√ß√£o a outra, geralmente o real (R\$) em rela√ß√£o ao d√≥lar americano (US\$). Essa vari√°vel reflete diretamente a din√¢mica do com√©rcio exterior, investimentos estrangeiros, infla√ß√£o e competitividade econ√¥mica de um pa√≠s. Varia√ß√µes na taxa de c√¢mbio influenciam pre√ßos de importa√ß√£o e exporta√ß√£o, custos de produ√ß√£o e o poder de compra dos consumidores, impactando diversos setores da economia. Por isso, acompanhar a evolu√ß√£o da taxa de c√¢mbio ao longo do tempo permite analisar os efeitos de pol√≠ticas econ√¥micas, crises financeiras e tend√™ncias globais no mercado nacional, sendo essencial para tomada de decis√µes em neg√≥cios, planejamento econ√¥mico e formula√ß√£o de pol√≠ticas p√∫blicas.

## Gr√°fico

O gr√°fico desenvolvido no R apresenta a evolu√ß√£o animada do acumulado da taxa de c√¢mbio ao longo de cada ano, com os dados organizados por m√™s. Essa visualiza√ß√£o permite observar de forma clara como a varia√ß√£o cambial se acumula mensalmente dentro de cada ano, facilitando a identifica√ß√£o de tend√™ncias, picos e per√≠odos de maior volatilidade. A anima√ß√£o destaca ano a ano a progress√£o do acumulado, evidenciando mudan√ßas econ√¥micas e eventos que impactaram o valor do c√¢mbio em diferentes per√≠odos. Al√©m disso, o gr√°fico utiliza uma escala ajustada no eixo Y para tornar mais vis√≠veis as varia√ß√µes, e um t√≠tulo din√¢mico que indica o ano exibido, o que torna a an√°lise mais interativa e intuitiva.

```{r}
#| echo: false
#| message: false
#| warning: false

library(GetBCBData)
library(dplyr)
library(lubridate)
library(plotly)

df <- gbcbd_get_series(
  id = c(cambio = 1),
  first.date = "1986-03-06",
  last.date = Sys.Date(),
  format.data = "long"
)

df <- df %>%
  mutate(
    ano = year(ref.date),
    mes = month(ref.date)
  ) %>%
  arrange(ref.date) %>%
  group_by(ano) %>%
  mutate(acumulado_ano = cumsum(value)) %>%
  ungroup()

y_min <- min(df$acumulado_ano, na.rm = TRUE) * -0.95
y_max <- max(df$acumulado_ano, na.rm = TRUE) * 0.95

plot_ly(
  data = df,
  x = ~mes,
  y = ~acumulado_ano,
  frame = ~ano,
  type = 'scatter',
  mode = 'lines+markers',
  line = list(color = '#2E86C1'),
  marker = list(size = 6)
) %>%
  layout(
    title = list(text = "üìà Acumulado Anual da Taxa de C√¢mbio (Ano: %{frame})", x = 0.5),
    xaxis = list(
      title = "M√™s",
      tickmode = "array",
      tickvals = 1:12,
      ticktext = month.abb
    ),
    yaxis = list(
      title = "Acumulado",
      range = c(y_min, y_max)
    ),
    hovermode = "x unified",
    showlegend = FALSE
  ) %>%
  animation_opts(frame = 1000, transition = 500, redraw = TRUE, mode = "immediate") %>%
  animation_slider(currentvalue = list(prefix = "Ano: ", font = list(size = 18, color = "#2980B9"))) %>%
  animation_button(x = 1, xanchor = "right", y = 0, yanchor = "bottom")



```
